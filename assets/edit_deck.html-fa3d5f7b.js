import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as u,o as r,c as d,a as n,d as s,b as l,w as a,e as o,f as k}from"./app-8df52869.js";const m="/sealdice-manual-next/assets/edit-deck-hide-key-ba6fd35a.png",v={},b=o('<h1 id="编写牌堆" tabindex="-1"><a class="header-anchor" href="#编写牌堆" aria-hidden="true">#</a> 编写牌堆</h1><div class="hint-container info"><p class="hint-container-title">本节内容</p><p>本节将介绍牌堆的编写，请善用侧边栏和搜索，按需阅读文档。</p><p>如果你有编程经验，可以直接跳转到 <a href="#%E9%9D%A2%E5%90%91%E6%9C%89%E7%BB%8F%E9%AA%8C%E7%94%A8%E6%88%B7%E7%9A%84%E5%BF%AB%E9%80%9F%E6%8C%87%E5%8D%97">此处</a>。</p></div><h2 id="概览" tabindex="-1"><a class="header-anchor" href="#概览" aria-hidden="true">#</a> 概览</h2><p>海豹核心目前支持 <code>toml</code><em>（新）</em> <code>json</code> <code>yaml</code> 格式的牌堆。</p><p>如果对其中某种格式的语法有了解，建议选择熟悉的格式。如果都不了解，建议选择使用适用性最广的 <code>json</code> 格式。</p><p>当然，如果你的海豹版本较新，我们也非常推荐你尝试 <code>toml</code> 格式的牌堆编写。<code>toml</code> 格式诞生较晚，语法支持更多现代特性，海豹为这种格式的牌堆支持了更多功能。</p><div class="hint-container warning"><p class="hint-container-title">牌堆文件的编码</p><p><strong>永远</strong>使用「UTF-8 编码」来编写牌堆。</p></div><h2 id="语法快速入门" tabindex="-1"><a class="header-anchor" href="#语法快速入门" aria-hidden="true">#</a> 语法快速入门</h2><p>我们将简单介绍 <code>toml</code> <code>json</code> <code>yaml</code> 的语法，仅说明牌堆编写中会用到的部分，帮助你快速了解它们。</p>',9),h={class:"hint-container tip"},g=n("p",{class:"hint-container-title"},"深入学习",-1),_=n("p",null,"我们也非常建议你系统地学习它们，可以参见这些文档或自行搜索：",-1),y={href:"https://toml.io/cn/v1.0.0",target:"_blank",rel:"noopener noreferrer"},x={href:"https://zhuanlan.zhihu.com/p/348057345",target:"_blank",rel:"noopener noreferrer"},q={href:"https://www.runoob.com/json/json-tutorial.html",target:"_blank",rel:"noopener noreferrer"},A={href:"https://www.ruanyifeng.com/blog/2016/07/yaml.html",target:"_blank",rel:"noopener noreferrer"},j=o('<div class="hint-container warning"><p class="hint-container-title">务必注意使用半角符号！</p><p>下面的语法中涉及到的符号都是<strong>半角符号</strong>，如果你出现了奇怪的问题，记得检查是否在输入法的中文输入状态，导致输入了错误的符号。</p><p>比如应该为 <code>,</code> 却使用了 <code>，</code>，应该为 <code>&quot;&quot;</code> 却使用了 <code>“”</code>。</p><p>使用专业的编辑器能帮助你检查这些问题。</p></div>',1),f=n("h3",{id:"toml-注释",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#toml-注释","aria-hidden":"true"},"#"),s(" TOML 注释")],-1),w=n("p",null,[s("注释以 "),n("code",null,"#"),s(" 开头，用来记录相关说明性内容。")],-1),L=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token comment"},"# 这是注释"),s(`

`),n("span",{class:"token key property"},"key"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"value"'),s(),n("span",{class:"token comment"},"# 注释也可以放在行尾"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),O=n("h3",{id:"toml-键值对",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#toml-键值对","aria-hidden":"true"},"#"),s(" TOML 键值对")],-1),M=n("p",null,"「键值对」是 TOML 文档最基本的元素。",-1),C=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token key property"},"key"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"value"'),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),N=n("p",null,"键名在等号的左边而值在右边，键、等号和值必须在同一行（有些值可以跨多行），不允许没有值。",-1),S=n("p",null,"值需要是下述类型之一：",-1),T=n("ul",null,[n("li",null,[s("字符串：以 "),n("code",null,'""'),s(),n("code",null,"''"),s(" 或 "),n("code",null,'""" """'),s(" 包裹起来的一串文字")]),n("li",null,"整数、浮点数（即小数）"),n("li",null,[s("布尔值："),n("code",null,"true"),s(" 和 "),n("code",null,"false")]),n("li",null,[s("日期或时刻：采用 RFC 3339 格式，如 "),n("code",null,"1919-08-10"),s(),n("code",null,"1919-08-10 11:45:14")]),n("li",null,[s("数组："),n("code",null,"[]"),s(" 包裹的一系列值")]),n("li",null,[s("内联表：表的一种紧凑表示法，"),n("code",null,"{}"),s(" 包裹的一系列键值对")])],-1),Y=n("p",null,"键值对后必须换行（或结束文件）。",-1),J=n("h3",{id:"toml-键名",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#toml-键名","aria-hidden":"true"},"#"),s(" TOML 键名")],-1),E=n("p",null,[s("键名可以是裸键名，也可以是用 "),n("code",null,'""'),s(" 引起来的字符串，都将被看作是字符串（哪怕裸键是 "),n("code",null,"1234"),s(" 也是这样）。")],-1),I=n("ul",null,[n("li",null,[s("裸键只能包含 ASCII 字母，ASCII 数字，下划线和短横线（即只有 "),n("code",null,"A-Za-z0-9_-"),s("）。")]),n("li",null,"引号键则允许包含任何 Unicode 字符（如中文），支持转义；")],-1),B=n("div",{class:"hint-container warning"},[n("p",{class:"hint-container-title"},"裸键名不支持中文"),n("p",null,"使用中文作为键名时，必须用引号包裹。")],-1),D=n("h3",{id:"toml-字符串",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#toml-字符串","aria-hidden":"true"},"#"),s(" TOML 字符串")],-1),P=n("p",null,[s("使用 "),n("code",null,'""'),s(" 或者 "),n("code",null,"''"),s(" 包裹的内容作为字符串。任何 Unicode 字符都可以使用，支持转义（如换行 "),n("code",null,"\\n"),s("、反斜杠 "),n("code",null,"\\ "),s("）。")],-1),U=n("p",null,"如果字符串有很多行，可以使用多行字符串语法：",-1),F=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token key property"},"key"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},`"""
这是多行字符串的语法，它支持你直接使用换行。
不用再拼接 \\n 来换行了，好耶！
但是这样写在最前面会多出换行，因为第一行的空换行也直接读取了。
"""`),s(`

`),n("span",{class:"token key property"},"key2"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},`"""\\
这样写就没有开头的空行问题了。
"""`),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),V=n("p",null,[s("多行换行符中，如果一行的最后一个非空白字符是未被转义的 "),n("code",null,"\\ "),s(" 时，它会连同它后面的所有空白（包括换行）一起被去除，直到下一个非空白字符或结束引号为止。")],-1),z=n("h3",{id:"toml-表",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#toml-表","aria-hidden":"true"},"#"),s(" TOML 表")],-1),G=n("p",null,[s("表（哈希表、字典、对象，含义相同）是键值对的集合。「表头」为一个单独的 "),n("code",null,"[]"),s(" 包裹的行作为表名，后面的行都是该表的内容。")],-1),R=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},'"海豹核心"'),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"简介"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"一个简单易用的跑团骰子系统"'),s(`
`),n("span",{class:"token key property"},'"状态"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"持续开发中"'),s(`

`),n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},'"狐狸核心"'),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"简介"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"一个更加简单易用的跑团骰子系统（什"'),s(`
`),n("span",{class:"token key property"},'"状态"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"根本不存在"'),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),H=n("p",null,"以上结构相当于 JSON 中的：",-1),Q=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"海豹核心"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"简介"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"一个简单易用的跑团骰子系统"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token property"},'"状态"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"持续开发中"'),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"狐狸核心"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"简介"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"一个更加简单易用的跑团骰子系统（什"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token property"},'"状态"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"根本不存在"'),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),W=n("p",null,"表还有一种更紧凑的内联表示法，必须在同一行内，且不支持尾逗号：",-1),Z=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token key property"},'"海豹核心"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token key property"},'"简介"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"一个简单易用的跑团骰子系统"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token key property"},'"状态"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"持续开发中"'),s(),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),K=n("h3",{id:"toml-数组",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#toml-数组","aria-hidden":"true"},"#"),s(" TOML 数组")],-1),X=n("p",null,[s("数组是用 "),n("code",null,"[]"),s(" 包裹的一系列值，子元素由 "),n("code",null,","),s(" 分隔。")],-1),$=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token key property"},"TRPG"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token key property"},"name"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"CoC"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token key property"},"version"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"7"'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token key property"},"name"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"D&D"'),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token key property"},"version"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"5e"'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token comment"},"# 多出一个逗号也是可以的"),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),nn=n("div",{class:"hint-container warning"},[n("p",{class:"hint-container-title"},"标准 JSON 而不是 JSON5"),n("p",null,[s("海豹支持的 JSON 牌堆是「"),n("strong",null,"标准 JSON"),s("」格式，诸如注释，尾逗号等语法不属于 JSON 语法，而是 JSON5 这个扩展标准的语法，出错时请严格检查。")]),n("p",null,[n("em",null,"目前暂不考虑支持 JSON5 标准，如果对注释等有需要可以尝试其它格式的牌堆。")])],-1),sn=n("h3",{id:"json-键值",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#json-键值","aria-hidden":"true"},"#"),s(" JSON 键值")],-1),an=n("p",null,[s("JSON 键值对以 "),n("code",null,'"key": value'),s(" 的形式表达，需要包裹在 "),n("code",null,"{}"),s(" 或 "),n("code",null,"[]"),s(" 中。")],-1),en=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"key"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"value"'),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),tn=n("p",null,[s("其中键名必须用 "),n("code",null,'""'),s(" 包裹，值可以是如下类型：")],-1),ln=n("ul",null,[n("li",null,"整数、浮点数（即小数）"),n("li",null,[s("字符串（由 "),n("code",null,'""'),s(" 包裹，不可以是 "),n("code",null,"''"),s("）")]),n("li",null,[s("布尔值（"),n("code",null,"true"),s(" 或 "),n("code",null,"false"),s("）")]),n("li",null,[s("数组：由 "),n("code",null,"[]"),s(" 包裹的一组值")]),n("li",null,[s("对象：由 "),n("code",null,"{}"),s(" 包裹的一组键值对")]),n("li",null,[n("code",null,"null"),s("：空")])],-1),on=n("h3",{id:"json-数组",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#json-数组","aria-hidden":"true"},"#"),s(" JSON 数组")],-1),cn=n("p",null,[s("由 "),n("code",null,"[]"),s(" 包裹的一组值，使用 "),n("code",null,","),s(" 分割。")],-1),un=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"CoC"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"D&D"'),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),pn=n("p",null,[n("strong",null,"最后一个元素后不可以有逗号。")],-1),rn=n("h3",{id:"json-对象",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#json-对象","aria-hidden":"true"},"#"),s(" JSON 对象")],-1),dn=n("p",null,[s("由 "),n("code",null,"[]"),s(" 包裹的一组键值对，使用 "),n("code",null,","),s(" 分割。")],-1),kn=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"海豹核心"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"简介"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"一个简单易用的跑团骰子系统"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token property"},'"状态"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"持续开发中"'),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"狐狸核心"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},'"简介"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"一个更加简单易用的跑团骰子系统（什"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token property"},'"状态"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"根本不存在"'),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),mn=n("p",null,[n("strong",null,"最后一个键值对后不可以有逗号。")],-1),vn=n("h3",{id:"yaml-注释",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#yaml-注释","aria-hidden":"true"},"#"),s(" YAML 注释")],-1),bn=n("p",null,[s("注释以 "),n("code",null,"#"),s(" 开头。")],-1),hn=n("h3",{id:"yaml-键值",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#yaml-键值","aria-hidden":"true"},"#"),s(" YAML 键值")],-1),gn=n("p",null,[s("YAML 键值对使用冒号结构表示 "),n("code",null,"key: value"),s("，冒号后面要加一个空格。")],-1),_n=n("p",null,"值可以是如下类型：",-1),yn=n("ul",null,[n("li",null,[s("字符串： "),n("ul",null,[n("li",null,[s("直接表示："),n("code",null,"这是一段字符串")]),n("li",null,[s("可以使用 "),n("code",null,'""'),s(" 或者 "),n("code",null,"''"),s("包裹，双引号不会对特殊字符转义："),n("code",null,"'Hello world'")])])]),n("li",null,[s("布尔值："),n("code",null,"true"),s(),n("code",null,"false")]),n("li",null,"整数、浮点数（即小数）"),n("li",null,[s("Null：用 "),n("code",null,"~"),s(" 表示")]),n("li",null,"时间、日期：采用 ISO8601 格式")],-1),xn=n("h3",{id:"yaml-对象",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#yaml-对象","aria-hidden":"true"},"#"),s(" YAML 对象")],-1),qn=n("p",null,"可以使用行内语法表示对象：",-1),An=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"海豹核心"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token key atrule"},"简介"),n("span",{class:"token punctuation"},":"),s(" 一个简单易用的跑团骰子系统"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token key atrule"},"状态"),n("span",{class:"token punctuation"},":"),s(" 持续开发中 "),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token key atrule"},"狐狸核心"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token key atrule"},"简介"),n("span",{class:"token punctuation"},":"),s(" 一个更加简单易用的跑团骰子系统（什"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token key atrule"},"状态"),n("span",{class:"token punctuation"},":"),s(" 根本不存在 "),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),jn=n("p",null,"也可以使用缩进层级表示对象关系（推荐）：",-1),fn=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"海豹核心"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token key atrule"},"简介"),n("span",{class:"token punctuation"},":"),s(` 一个简单易用的跑团骰子系统
  `),n("span",{class:"token key atrule"},"状态"),n("span",{class:"token punctuation"},":"),s(` 持续开发中
`),n("span",{class:"token key atrule"},"狐狸核心"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token key atrule"},"简介"),n("span",{class:"token punctuation"},":"),s(` 一个更加简单易用的跑团骰子系统（什
  `),n("span",{class:"token key atrule"},"状态"),n("span",{class:"token punctuation"},":"),s(` 根本不存在
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),wn=n("div",{class:"hint-container warning"},[n("p",{class:"hint-container-title"},"缩进是有含义的"),n("p",null,"在 YAML 中，缩进是有含义的，缩进的长度表示了层级。"),n("p",null,[s("缩进不允许 tab，只允许使用空格。缩进的空格数并不重要，但"),n("strong",null,"相同层级的元素必须左对齐"),s("。")]),n("p",null,"当你在复制粘贴 YAML 文本时，请务必注意这一点，格式错乱会无法识别。")],-1),Ln=n("h3",{id:"yaml-数组",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#yaml-数组","aria-hidden":"true"},"#"),s(" YAML 数组")],-1),On=n("p",null,"YAML 可以使用行内语法表示数组：",-1),Mn=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token punctuation"},"["),s(" A"),n("span",{class:"token punctuation"},","),s(" B"),n("span",{class:"token punctuation"},","),s(" C "),n("span",{class:"token punctuation"},"]"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),Cn=n("p",null,[s("也可以使用以 "),n("code",null,"-"),s(" 开头的行表示构成一个数组：")],-1),Nn=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token punctuation"},"-"),s(` A
`),n("span",{class:"token punctuation"},"-"),s(` B
`),n("span",{class:"token punctuation"},"-"),s(` C
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Sn=n("p",null,"数据结构的子成员是一个数组，则可以在该项下面缩进一个空格：",-1),Tn=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"TRPG"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token punctuation"},"-"),s(),n("span",{class:"token key atrule"},"name"),n("span",{class:"token punctuation"},":"),s(` CoC
    `),n("span",{class:"token key atrule"},"version"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},"'7'"),s(`
  `),n("span",{class:"token punctuation"},"-"),s(),n("span",{class:"token key atrule"},"name"),n("span",{class:"token punctuation"},":"),s(" D"),n("span",{class:"token important"},"&D"),s(`
    `),n("span",{class:"token key atrule"},"version"),n("span",{class:"token punctuation"},":"),s(` 5e
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Yn=n("div",{class:"hint-container warning"},[n("p",{class:"hint-container-title"},"复杂的 YAML"),n("p",null,"YAML 的语法极其灵活，同一种形式在 YAML 中可以有多种等价表示方法，这里只列出了常见的。"),n("p",null,"如果你在阅读其它人的 YAML 牌堆时遇上了看不懂的内容，建议通过更系统的教程学习。")],-1),Jn=o('<h2 id="基础牌堆编写" tabindex="-1"><a class="header-anchor" href="#基础牌堆编写" aria-hidden="true">#</a> 基础牌堆编写</h2><p>海豹的抽取指令为 <code>.draw &lt;key&gt;</code>，而牌堆就是可以提供一些 key 作为牌组的文件。</p><p>我们从编写一个最简单的牌堆开始，我们希望：</p><ol><li>这个牌堆有 <code>快端上来罢</code> 和 <code>数字论证</code> 两个牌组； <ul><li><code>.draw 快端上来罢</code> 可以抽取出 <code>哼哼哼啊啊啊啊啊</code> <code>你是一个一个一个牌堆结果</code> 这两个结果；</li><li><code>.draw 数字论证</code> 可以抽取出 <code>114514</code> <code>1919810</code> 这两个结果。</li></ul></li><li>填写一些信息（如作者），便于分享。</li></ol><p>这个牌堆编写如下，你可以选择以下任意一种格式来学习：</p>',5),En=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token comment"},"# 元信息表"),s(`
`),n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},"meta"),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},"title"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"野兽牌堆"'),s(`
`),n("span",{class:"token key property"},"author"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"田所浩二"'),s(`
`),n("span",{class:"token comment"},"# 有多个作者时可以使用，两者仅需保留一行"),s(`
`),n("span",{class:"token key property"},"authors"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"田所浩二"'),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},"version"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"1.0"'),s(`
`),n("span",{class:"token key property"},"license"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"CC-BY-NC-SA 4.0"'),s(`
`),n("span",{class:"token key property"},"date"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token date number"},"1919-08-10"),s(`
`),n("span",{class:"token key property"},"update_date"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token date number"},"1919-08-10"),s(`
`),n("span",{class:"token key property"},"desc"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"这个示例牌堆怎么这么臭（恼）"'),s(`

`),n("span",{class:"token comment"},"# 牌组表"),s(`
`),n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},"decks"),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"快端上来罢"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"哼哼哼啊啊啊啊啊"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"你是一个一个一个牌堆结果"'),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"数字论证"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"114514"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"1919810"'),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),In=n("p",null,[s("一个 TOML 牌堆的最基本格式如上。其中 "),n("code",null,"meta"),s(" 表中的信息不是必须的，但我们非常建议你保留并填写这些项，它们能在分享时说明更多信息：")],-1),Bn=n("ul",null,[n("li",null,[n("code",null,"title"),s("：牌堆的标题；")]),n("li",null,[n("code",null,"author"),s("/"),n("code",null,"authors"),s("：牌堆作者；")]),n("li",null,[n("code",null,"date"),s("：牌堆创建日期；")]),n("li",null,[n("code",null,"updateDate"),s("：牌堆更新日期；")]),n("li",null,[n("code",null,"desc"),s("：牌堆简介；")]),n("li",null,[n("code",null,"version"),s("：牌堆版本；")]),n("li",null,[n("code",null,"license"),s("：牌堆协议。")])],-1),Dn=n("p",null,[s("可以将上述内容保存名为 "),n("code",null,"野兽牌堆.toml"),s("（名称任意，但必须是以 "),n("code",null,".toml"),s(" 为后缀扩展名）的文件进行测试。")],-1),Pn=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"_title"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(),n("span",{class:"token string"},'"野兽牌堆"'),s(),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"_author"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(),n("span",{class:"token string"},'"田所浩二"'),s(),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"_date"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(),n("span",{class:"token string"},'"1919-08-10"'),s(),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"_updateDate"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(),n("span",{class:"token string"},'"1919-08-10"'),s(),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"_brief"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(),n("span",{class:"token string"},'"这个示例牌堆怎么这么臭（恼）"'),s(),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"_version"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(),n("span",{class:"token string"},'"1.0"'),s(),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"_license"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(),n("span",{class:"token string"},'"CC-BY-NC-SA 4.0"'),s(),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"快端上来罢"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"哼哼哼啊啊啊啊啊"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"你是一个一个一个牌堆结果"'),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"数字论证"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"114514"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"1919810"'),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Un=n("p",null,[s("一个 JSON 牌堆的最基本格式如上。其中以 "),n("code",null,"_"),s(" 开头的项不是必须的，但是我们非常建议你保留并填写这些项，它们能在分享时说明更多信息：")],-1),Fn=n("ul",null,[n("li",null,[n("code",null,"_title"),s("：牌堆的标题；")]),n("li",null,[n("code",null,"_author"),s("：牌堆作者；")]),n("li",null,[n("code",null,"_date"),s("：牌堆创建日期；")]),n("li",null,[n("code",null,"_updateDate"),s("：牌堆更新日期；")]),n("li",null,[n("code",null,"_brief"),s("：牌堆简介；")]),n("li",null,[n("code",null,"_version"),s("：牌堆版本；")]),n("li",null,[n("code",null,"_license"),s("：牌堆协议。")])],-1),Vn=n("p",null,[s("可以将上述内容保存名为 "),n("code",null,"野兽牌堆.json"),s("（名称任意，但必须是以 "),n("code",null,".json"),s(" 为后缀扩展名）的文件进行测试。")],-1),zn=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"name"),n("span",{class:"token punctuation"},":"),s(` 野兽牌堆
`),n("span",{class:"token key atrule"},"author"),n("span",{class:"token punctuation"},":"),s(` 田所浩二
`),n("span",{class:"token key atrule"},"version"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},"'1.0'"),s(`
`),n("span",{class:"token key atrule"},"license"),n("span",{class:"token punctuation"},":"),s(" CC"),n("span",{class:"token punctuation"},"-"),s("BY"),n("span",{class:"token punctuation"},"-"),s("NC"),n("span",{class:"token punctuation"},"-"),s(`SA 4.0
`),n("span",{class:"token key atrule"},"desc"),n("span",{class:"token punctuation"},":"),s(` 这个示例牌堆怎么这么臭（恼）
`),n("span",{class:"token key atrule"},"command"),n("span",{class:"token punctuation"},":"),s(` 

`),n("span",{class:"token key atrule"},"快端上来罢"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token punctuation"},"-"),s(` 哼哼哼啊啊啊啊啊
  `),n("span",{class:"token punctuation"},"-"),s(` 你是一个一个一个牌堆结果
`),n("span",{class:"token key atrule"},"数字论证"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token punctuation"},"-"),s(),n("span",{class:"token string"},"'114514'"),s(`
  `),n("span",{class:"token punctuation"},"-"),s(),n("span",{class:"token string"},"'1919810'"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Gn=n("p",null,"一个 YAML 牌堆的最基本格式如上。其中上半部分的一些项不是必须的，但是我们非常建议你保留并填写这些项，它们能在分享时说明更多信息：",-1),Rn=n("ul",null,[n("li",null,[n("code",null,"name"),s("：牌堆的标题；")]),n("li",null,[n("code",null,"author"),s("：牌堆作者；")]),n("li",null,[n("code",null,"version"),s("：牌堆版本；")]),n("li",null,[n("code",null,"license"),s("：牌堆协议；")]),n("li",null,[n("code",null,"desc"),s("：牌堆简介。")])],-1),Hn=n("p",null,[s("可以将上述内容保存名为 "),n("code",null,"野兽牌堆.yaml"),s("（名称任意，但必须是以 "),n("code",null,".yaml"),s(" 或 "),n("code",null,".yml"),s(" 为后缀扩展名）的文件进行测试。")],-1),Qn=o('<div class="hint-container warning"><p class="hint-container-title">牌堆文件扩展名正确吗？</p><p>保存文件时务必确认开启了操作系统的扩展名显示，避免出现看上去保存了 <code>xxx.json</code> 文件，但实际上的文件名是 <code>xxx.json.txt</code>。</p></div><h2 id="牌堆语法" tabindex="-1"><a class="header-anchor" href="#牌堆语法" aria-hidden="true">#</a> 牌堆语法</h2><h3 id="一个项中抽取其他项" tabindex="-1"><a class="header-anchor" href="#一个项中抽取其他项" aria-hidden="true">#</a> 一个项中抽取其他项</h3><p>牌堆抽取结果字符串中，可以实现抽取其他项，将内容拼接进该结果。</p><ul><li><code>{key}</code> 表示不放回抽取；</li><li><code>{%key}</code> 表示放回抽取。</li></ul>',5),Wn=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},"decks"),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"时间点"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"早上"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"中午"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"晚上"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"追尾了"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"在{%时间点}追尾了一辆高级黑色轿车"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Zn=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"时间点"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"早上"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"中午"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"晚上"'),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"追尾了"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"在{%时间点}追尾了一辆高级黑色轿车"'),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Kn=n("div",{class:"hint-container warning"},[n("p",{class:"hint-container-title"},"YAML 的放回表示"),n("p",null,"YAML 牌堆中的表示正好相反："),n("ul",null,[n("li",null,[n("code",null,"{key}"),s(" 表示放回抽取；")]),n("li",null,[n("code",null,"{%key}"),s(" 表示不放回抽取。")])])],-1),Xn=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"时间点"),n("span",{class:"token punctuation"},":"),s(` 
  `),n("span",{class:"token punctuation"},"-"),s(` 早上
  `),n("span",{class:"token punctuation"},"-"),s(` 中午
  `),n("span",{class:"token punctuation"},"-"),s(` 晚上
`),n("span",{class:"token key atrule"},"追尾了"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token punctuation"},"-"),s(" 在"),n("span",{class:"token punctuation"},"{"),s("时间点"),n("span",{class:"token punctuation"},"}"),s(`追尾了一辆高级黑色轿车
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),$n=o(`<div class="hint-container tip"><p class="hint-container-title">放回与不放回</p><p>放回抽取表示每次抽取该项后，下次抽取还是从同样的结果中抽取。</p><p>不放回抽取表示抽取一次后，下一次会在剩余结果中抽取，直到抽完所有结果后再重新开始。</p></div><h3 id="插入掷骰表达式" tabindex="-1"><a class="header-anchor" href="#插入掷骰表达式" aria-hidden="true">#</a> 插入掷骰表达式</h3><p>抽取结果字符串中的 <code>[exp]</code>，会先执行其中的掷骰表达式 <code>exp</code>，再组合到原字符串里。</p><p>如：抽取 <code>企鹅早该爆金币辣！v我[1d10]个金币</code> 的结果可能是 <code>企鹅早该爆金币辣！v我1个金币</code>。</p><details class="hint-container details"><summary>旧的实现</summary><p>研究旧牌堆，可能会发现有牌堆通过下面这样的写法来实现这个功能，<strong>现在请不要这么做了</strong>。</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;数字&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;爆金币&quot;</span><span class="token operator">:</span> <span class="token string">&quot;企鹅早该爆金币辣！v我{%数字}个金币&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="权重" tabindex="-1"><a class="header-anchor" href="#权重" aria-hidden="true">#</a> 权重</h3><p>抽取结果字符串中最前面的 <code>::value::</code> 表示该项的权重，可以理解为该项重复了几次。</p><p><em>权重可以是随机的</em>：<code>::[1d10]::</code></p><p>示例：有 1/10 的几率出现闪光海豹</p>`,9),ns=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},"decks"),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"捕捉海豹"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"::9::海豹"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"✨闪光海豹✨"'),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),ss=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"捕捉海豹"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"::9::海豹"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"✨闪光海豹✨"'),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),as=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"捕捉海豹"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token punctuation"},"-"),s(),n("span",{class:"token punctuation"},":"),n("span",{class:"token punctuation"},":"),s("9"),n("span",{class:"token punctuation"},":"),n("span",{class:"token punctuation"},":"),s(`海豹
  `),n("span",{class:"token punctuation"},"-"),s(` ✨闪光海豹✨
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),es=o(`<details class="hint-container details"><summary>旧的实现</summary><p>研究旧牌堆，可能会发现有牌堆通过下面这样的写法来实现这个功能，<strong>现在请不要这么做了</strong>。</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;捕捉海豹&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;海豹&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;海豹&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;海豹&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;海豹&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;海豹&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;海豹&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;海豹&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;海豹&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;海豹&quot;</span><span class="token punctuation">,</span> 
    <span class="token string">&quot;✨闪光海豹✨&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="发送图片等" tabindex="-1"><a class="header-anchor" href="#发送图片等" aria-hidden="true">#</a> 发送图片等</h3><p>抽取结果字符串中可以插入 CQ 码和海豹码，比如 <code>[图:data/images/sealdice.png]</code>。</p><h3 id="牌组的隐藏和导出控制" tabindex="-1"><a class="header-anchor" href="#牌组的隐藏和导出控制" aria-hidden="true">#</a> 牌组的隐藏和导出控制</h3><p><code>.draw keys</code> 指令会列出所有允许抽取的牌组，但在牌堆编写过程中，经常会需要用到辅助的牌组，这些辅助项是不希望暴露给用户的。我们可以通过一定方式来隐藏这些项。</p>`,5),ts=n("p",null,[s("在 TOML 牌堆中，当牌组的名称以 "),n("code",null,"_"),s(" 开头，那么这个牌组将不会暴露在 "),n("code",null,".draw keys"),s(" 中。")],-1),ls=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},"decks"),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"_时间点"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"早上"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"中午"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"晚上"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"追尾了"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"在{%_时间点}追尾了一辆高级黑色轿车"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),os=n("p",null,[s("这样在 "),n("code",null,".draw keys"),s(" 中就不会展示 "),n("code",null,"_时间点"),s(" 这一牌组。")],-1),cs=n("p",null,[s("在 JSON 牌堆中，可以通过配置牌堆文件的 "),n("code",null,"_keys"),s(" 指定所有显示的牌组，未指定在列表中的牌组将不会暴露在 "),n("code",null,".draw keys"),s(" 中。")],-1),is=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"_keys"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(),n("span",{class:"token string"},'"追尾了"'),s(),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"时间点"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"早上"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"中午"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"晚上"'),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"追尾了"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"在{%时间点}追尾了一辆高级黑色轿车"'),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),us=n("p",null,[s("这样在 "),n("code",null,".draw keys"),s(" 中就不会展示 "),n("code",null,"时间点"),s(" 这一牌组。")],-1),ps=n("p",null,null,-1),rs=n("p",null,[s("被隐藏的项不会在 "),n("code",null,".draw keys"),s(" 中展示，但依然可以通过指定 "),n("code",null,".draw <key>"),s(" 的方法抽取。如果你希望某些牌组彻底隐藏，只能在牌堆内部调用，可以通过配置它们的导出来实现：")],-1),ds=n("p",null,[s("在 TOML 牌堆中，当牌组的名称以 "),n("code",null,"__"),s("（双下划线）开头，那么这个牌组将不导出，即无法使用 "),n("code",null,".draw <key>"),s(" 进行抽取，更不会显示在列表中。")],-1),ks=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},"decks"),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"__时间点"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"早上"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"中午"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"晚上"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"追尾了"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"在{%__时间点}追尾了一辆高级黑色轿车"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),ms=n("p",null,[s("在 JSON 牌堆中，当牌组的名称以 "),n("code",null,"_"),s(" 开头，那么这个牌组将不导出，即无法使用 "),n("code",null,".draw <key>"),s(" 进行抽取，更不会显示在列表中。")],-1),vs=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"_时间点"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"早上"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"中午"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"晚上"'),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"追尾了"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"在{%_时间点}追尾了一辆高级黑色轿车"'),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),bs=n("p",null,[s("这样 "),n("code",null,"_时间点"),s(" 这一牌组无法再用 "),n("code",null,".draw _时间点"),s(" 抽取了。")],-1),hs=n("p",null,[s("此外，通过配置牌堆文件的 "),n("code",null,"_export"),s("/ "),n("code",null,"_exports"),s(" 可以指定所有的导出项。未指定在列表中的牌组将无法使用 "),n("code",null,".draw <key>"),s(" 进行抽取，更不会显示在列表中。")],-1),gs=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"_exports"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(),n("span",{class:"token string"},'"追尾了"'),s(),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"时间点"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"早上"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"中午"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"晚上"'),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"追尾了"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"在{%时间点}追尾了一辆高级黑色轿车"'),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),_s=n("p",null,null,-1),ys=o('<div class="hint-container tip"><p class="hint-container-title">UI 中识别隐藏的牌组</p><p>你可以通过查看牌堆管理界面中的「牌堆列表」来识别牌组是否隐藏。</p><figure><img src="'+m+'" alt="牌堆列表" tabindex="0" loading="lazy"><figcaption>牌堆列表</figcaption></figure><p>灰色的牌组是隐藏的，即不展示在列表中，但能够被 <code>.draw &lt;key&gt;</code> 抽取。</p><p>未导出（不展示也不能抽取）的牌组不展示在该列表中。</p></div><h3 id="配置牌堆更新" tabindex="-1"><a class="header-anchor" href="#配置牌堆更新" aria-hidden="true">#</a> 配置牌堆更新</h3><p>很多时候，牌堆内容不是一成不变的。而使用牌堆的用户需要手动去获取最新的牌堆，才能获得作者们提供的最新内容。</p><p>我们为牌堆提供了配置更新链接的机制，方便骰主快速获取牌堆更新。有能力的牌堆作者可以配置更新链接，便于分享最新的牌堆内容。</p>',4),xs=n("p",null,[s("配置牌堆文件的 "),n("code",null,"updateUrls"),s(" 以指定对应的更新链接：")],-1),qs=n("div",{class:"language-toml line-numbers-mode","data-ext":"toml"},[n("pre",{class:"language-toml"},[n("code",null,[n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},"meta"),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},"title"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token string"},'"野兽牌堆"'),s(`
`),n("span",{class:"token key property"},"updateUrls"),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"https://updateurl.com"'),s(),n("span",{class:"token comment"},"# 此处填写你的更新链接"),s(`
`),n("span",{class:"token punctuation"},"]"),s(`

`),n("span",{class:"token comment"},"# 牌组表"),s(`
`),n("span",{class:"token punctuation"},"["),n("span",{class:"token table class-name"},"decks"),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"快端上来罢"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"哼哼哼啊啊啊啊啊"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"你是一个一个一个牌堆结果"'),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token key property"},'"数字论证"'),s(),n("span",{class:"token punctuation"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token string"},'"114514"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token string"},'"1919810"'),s(`
`),n("span",{class:"token punctuation"},"]"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),As=n("p",null,[s("配置牌堆文件的 "),n("code",null,"_updateUrls"),s(" 以指定对应的更新链接：")],-1),js=n("div",{class:"language-json line-numbers-mode","data-ext":"json"},[n("pre",{class:"language-json"},[n("code",null,[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token property"},'"_title"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(),n("span",{class:"token string"},'"野兽牌堆"'),s(),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"_updateUrls"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(),n("span",{class:"token string"},'"https://updateurl.com"'),s(),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"快端上来罢"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"哼哼哼啊啊啊啊啊"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"你是一个一个一个牌堆结果"'),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token property"},'"数字论证"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"114514"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"1919810"'),s(`
  `),n("span",{class:"token punctuation"},"]"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),fs=n("p",null,[s("配置牌堆文件的 "),n("code",null,"update_urls"),s(" 以指定对应的更新链接：")],-1),ws=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"name"),n("span",{class:"token punctuation"},":"),s(` 野兽牌堆
`),n("span",{class:"token key atrule"},"update_urls"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token punctuation"},"-"),s(),n("span",{class:"token string"},"'https://updateurl.com'"),s(`

`),n("span",{class:"token key atrule"},"快端上来罢"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token punctuation"},"-"),s(` 哼哼哼啊啊啊啊啊
  `),n("span",{class:"token punctuation"},"-"),s(` 你是一个一个一个牌堆结果
`),n("span",{class:"token key atrule"},"数字论证"),n("span",{class:"token punctuation"},":"),s(`
  `),n("span",{class:"token punctuation"},"-"),s(),n("span",{class:"token string"},"'114514'"),s(`
  `),n("span",{class:"token punctuation"},"-"),s(),n("span",{class:"token string"},"'1919810'"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Ls=o(`<p>有多个更新链接时，海豹将依次从上往下检查更新。</p><h2 id="toml-牌堆的更多功能" tabindex="-1"><a class="header-anchor" href="#toml-牌堆的更多功能" aria-hidden="true">#</a> TOML 牌堆的更多功能</h2><h3 id="更多牌组设置" tabindex="-1"><a class="header-anchor" href="#更多牌组设置" aria-hidden="true">#</a> 更多牌组设置</h3><p>TOML 牌堆中，你可以以表的形式来创建更复杂的牌组，这允许你更精细的控制每个牌组的选项。</p><p>复杂牌组和普通牌组在使用上没有什么区别，仅仅是提供了配置选项的能力。</p><div class="language-toml line-numbers-mode" data-ext="toml"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">meta</span><span class="token punctuation">]</span>
<span class="token key property">title</span> <span class="token punctuation">=</span> <span class="token string">&quot;野兽牌堆&quot;</span>
<span class="token key property">updateUrls</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;https://updateurl.com&quot;</span> <span class="token comment"># 此处填写你的更新链接</span>
<span class="token punctuation">]</span>

<span class="token comment"># 简单牌组表</span>
<span class="token punctuation">[</span><span class="token table class-name">decks</span><span class="token punctuation">]</span>
<span class="token key property">&quot;快端上来罢&quot;</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;哼哼哼啊啊啊啊啊&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;你是一个一个一个牌堆结果&quot;</span>
<span class="token punctuation">]</span>

<span class="token comment"># 复杂牌组</span>
<span class="token punctuation">[</span><span class="token table class-name">&quot;数字论证&quot;</span><span class="token punctuation">]</span>
<span class="token key property">export</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
<span class="token key property">visible</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
<span class="token key property">aliases</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span> <span class="token string">&quot;恶臭论证&quot;</span> <span class="token punctuation">]</span>
<span class="token key property">options</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;114514&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;1919810&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>表名将作为这个牌组的名称，复杂牌组提供以下选项：</p><ul><li><code>export</code>：是否导出该牌组；</li><li><code>visible</code>：该牌组是否可见，不可见的将不展示在 <code>.draw keys</code> 列表中；</li><li><code>aliases</code>：牌组的别名，可以使用别名抽取改牌组，如上述示例中可以使用 <code>.draw 数字论证</code> 或 <code>.draw 恶臭论证</code> 来抽取；</li><li><code>options</code>：该牌组的项。</li></ul><h3 id="云端内容" tabindex="-1"><a class="header-anchor" href="#云端内容" aria-hidden="true">#</a> 云端内容</h3><p>某些情况下，我们希望牌堆内容能够自动更新，骰主无需反复更新骰子中装载的牌堆，用户也能抽取到最新内容。例如，一个实时更新的公骰列表牌堆。</p><p>海豹支持为牌堆提供云端内容，这需要牌堆作者有能力提供一个 API 接口，<strong>每次</strong> 配置了接口的牌组被抽取的时候，都会调用该接口获取该牌组的最新数据。</p><div class="hint-container warning"><p class="hint-container-title">不受控的云端内容</p><p>海豹核心无法核查从接口处获取的数据，骰主需要自行确认数据源不会返回你不希望骰子发出的信息。</p><p>对于提供了云端内容的牌堆，在海豹 Web UI 的牌端管理界面，会强制增加相应标识，以显示该牌堆提供了云端内容。</p></div><h4 id="api-接口要求" tabindex="-1"><a class="header-anchor" href="#api-接口要求" aria-hidden="true">#</a> API 接口要求</h4><p>海豹将以 HTTP GET 的方式请求对应接口，接口应当返回一个 JSON 字符串数组数据，其每个元素均是牌组的一个条目。</p><p>返回结果示例如下：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token string">&quot;3 = 11*-4+51-4&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;114 = 11*4+5*14&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;514 = (1-1)/4+514&quot;</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="牌堆配置云端内容" tabindex="-1"><a class="header-anchor" href="#牌堆配置云端内容" aria-hidden="true">#</a> 牌堆配置云端内容</h4><p>目前仅有 TOML 牌堆支持云端内容，示例如下：</p><div class="language-toml line-numbers-mode" data-ext="toml"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">meta</span><span class="token punctuation">]</span>
<span class="token key property">title</span> <span class="token punctuation">=</span> <span class="token string">&quot;野兽牌堆-云端内容示例&quot;</span>

<span class="token punctuation">[</span><span class="token table class-name">&quot;114514种论证&quot;</span><span class="token punctuation">]</span>
<span class="token key property">export</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
<span class="token key property">visible</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
<span class="token key property">options</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;1 = 11/(45-1)*4&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;2 = -11+4-5+14&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;3 = 11*-4+51-4&quot;</span>
<span class="token punctuation">]</span>
<span class="token comment"># 开启云内容</span>
<span class="token key property">cloud_extra</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
<span class="token comment"># 云内容与本地内容去重</span>
<span class="token key property">dictinct</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
<span class="token comment"># 云内容链接</span>
<span class="token key property">options_urls</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;此处替换为对应的 API 链接，类似 http://example.com/xxx&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>假定上面填入了 API，它会返回上一节中的示例 JSON 字符串数组，即 <code>[&quot;3 = 11*-4+51-4&quot;, &quot;114 = 11*4+5*14&quot;, &quot;514 = (1-1)/4+514&quot;]</code>。</em></p><p>正如上面示例中看到的那样，在 TOML 格式的复杂牌组中，有一些云端内容的相关配置项，每个牌组都可以单独控制云端相关设置。抽取牌组时，接口返回的数据将和牌组本身配置的 <code>options</code> 数组合并，最后的抽取是从合并的数组中进行。</p><ul><li><code>cloud_extra</code>：为 <code>true</code> 时，抽取本牌组时将请求接口获取云端数据；</li><li><code>options_urls</code>：配置云端内容的 API 链接，链接能够配置多个。<strong>每次抽取这个牌组时，会依次调用配置的 API，在任意一个接口成功返回数据后即停止</strong>；</li><li><code>distinct</code>：为 <code>true</code> 时，云端数据与本地数据合并后会进行去重，确保最终抽取的牌组中不含重复条目。</li></ul><p>以上述牌组为例，当执行 <code>.draw 114514种论证</code> 的时候，将首先调用 API 获取云端内容，成功获取后进行合并并去重，最终抽取的牌组相当于直接配置了这样的牌组：</p><div class="language-toml line-numbers-mode" data-ext="toml"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token table class-name">&quot;114514种论证&quot;</span><span class="token punctuation">]</span>
<span class="token key property">export</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
<span class="token key property">visible</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
<span class="token key property">options</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;1 = 11/(45-1)*4&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;2 = -11+4-5+14&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;3 = 11*-4+51-4&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;114 = 11*4+5*14&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;514 = (1-1)/4+514&quot;</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="面向有经验用户的快速指南" tabindex="-1"><a class="header-anchor" href="#面向有经验用户的快速指南" aria-hidden="true">#</a> 面向有经验用户的快速指南</h2><div class="hint-container note"><p class="hint-container-title">施工中……</p></div>`,26);function Os(Ms,Cs){const i=u("ExternalLinkIcon"),c=u("Tabs");return r(),d("div",null,[b,n("div",h,[g,_,n("ul",null,[n("li",null,[n("a",y,[s("TOML 文档"),l(i)]),s("、"),n("a",x,[s("TOML 教程"),l(i)])]),n("li",null,[n("a",q,[s("菜鸟教程 - JSON"),l(i)])]),n("li",null,[n("a",A,[s("YAML 语言教程"),l(i)])])])]),j,l(c,{id:"67",data:[{id:"toml"},{id:"json"},{id:"yaml"}],"tab-id":"deck-format"},{title0:a(({value:e,isActive:t})=>[s("toml")]),title1:a(({value:e,isActive:t})=>[s("json")]),title2:a(({value:e,isActive:t})=>[s("yaml")]),tab0:a(({value:e,isActive:t})=>[f,w,L,O,M,C,N,S,T,Y,J,E,I,B,D,P,U,F,V,z,G,R,H,Q,W,Z,K,X,$]),tab1:a(({value:e,isActive:t})=>[nn,sn,an,en,tn,ln,on,cn,un,pn,rn,dn,kn,mn]),tab2:a(({value:e,isActive:t})=>[vn,bn,hn,gn,_n,yn,xn,qn,An,jn,fn,wn,Ln,On,Mn,Cn,Nn,Sn,Tn,Yn]),_:1}),Jn,l(c,{id:"393",data:[{id:"toml"},{id:"json"},{id:"yaml"}],"tab-id":"deck-format"},{title0:a(({value:e,isActive:t})=>[s("toml")]),title1:a(({value:e,isActive:t})=>[s("json")]),title2:a(({value:e,isActive:t})=>[s("yaml")]),tab0:a(({value:e,isActive:t})=>[En,In,Bn,Dn]),tab1:a(({value:e,isActive:t})=>[Pn,Un,Fn,Vn]),tab2:a(({value:e,isActive:t})=>[zn,Gn,Rn,Hn]),_:1}),Qn,l(c,{id:"549",data:[{id:"toml"},{id:"json"},{id:"yaml"}],"tab-id":"deck-format"},{title0:a(({value:e,isActive:t})=>[s("toml")]),title1:a(({value:e,isActive:t})=>[s("json")]),title2:a(({value:e,isActive:t})=>[s("yaml")]),tab0:a(({value:e,isActive:t})=>[Wn]),tab1:a(({value:e,isActive:t})=>[Zn]),tab2:a(({value:e,isActive:t})=>[Kn,Xn]),_:1}),$n,l(c,{id:"612",data:[{id:"toml"},{id:"json"},{id:"yaml"}],"tab-id":"deck-format"},{title0:a(({value:e,isActive:t})=>[s("toml")]),title1:a(({value:e,isActive:t})=>[s("json")]),title2:a(({value:e,isActive:t})=>[s("yaml")]),tab0:a(({value:e,isActive:t})=>[ns]),tab1:a(({value:e,isActive:t})=>[ss]),tab2:a(({value:e,isActive:t})=>[as]),_:1}),es,l(c,{id:"641",data:[{id:"toml"},{id:"json"},{id:"yaml"}],"tab-id":"deck-format"},{title0:a(({value:e,isActive:t})=>[s("toml")]),title1:a(({value:e,isActive:t})=>[s("json")]),title2:a(({value:e,isActive:t})=>[s("yaml")]),tab0:a(({value:e,isActive:t})=>[ts,ls,os]),tab1:a(({value:e,isActive:t})=>[cs,is,us,ps]),tab2:a(({value:e,isActive:t})=>[k(" 在 YAML 牌堆中，当牌组的名称以 `_` 开头，那么这个牌组将不会暴露在 `.draw keys` 中。\n\n```yaml\n_时间点:\n  - 早上\n  - 中午\n  - 晚上\n追尾了:\n  - 在{%_时间点}追尾了一辆高级黑色轿车\n```\n\n这样在 `.draw keys` 中就不会展示 `_时间点` 这一牌组。 ")]),_:1}),rs,l(c,{id:"670",data:[{id:"toml"},{id:"json"},{id:"yaml"}],"tab-id":"deck-format"},{title0:a(({value:e,isActive:t})=>[s("toml")]),title1:a(({value:e,isActive:t})=>[s("json")]),title2:a(({value:e,isActive:t})=>[s("yaml")]),tab0:a(({value:e,isActive:t})=>[ds,ks]),tab1:a(({value:e,isActive:t})=>[ms,vs,bs,hs,gs]),tab2:a(({value:e,isActive:t})=>[_s]),_:1}),ys,l(c,{id:"719",data:[{id:"toml"},{id:"json"},{id:"yaml"}],"tab-id":"deck-format"},{title0:a(({value:e,isActive:t})=>[s("toml")]),title1:a(({value:e,isActive:t})=>[s("json")]),title2:a(({value:e,isActive:t})=>[s("yaml")]),tab0:a(({value:e,isActive:t})=>[xs,qs]),tab1:a(({value:e,isActive:t})=>[As,js]),tab2:a(({value:e,isActive:t})=>[fs,ws]),_:1}),Ls])}const Ts=p(v,[["render",Os],["__file","edit_deck.html.vue"]]);export{Ts as default};
